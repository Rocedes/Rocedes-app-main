<ng-container *ngIf="str_from=='FactorCorte'">
    <div class="franja"><p>Factores de Corte</p></div>
    
    <div class="container">
        <div class="button-row text-end">
            <button type="button" class="btn btn-outline-secondary" (click)="exportar()"><b>EXPORTAR </b><fa-icon [icon]="['fas', 'file-excel']" class="fa-2x" style="color:green"></fa-icon></button>
            <button type="button" class="btn btn-outline-secondary" (click)="LLenarTabla()"><b>REFRESCAR </b> <fa-icon [icon]="['fas', 'search']" class="fa-2x"></fa-icon></button>
        </div>
    </div>
   

      <br>
    <div class="Lista-Registro" id="divRegistrosFactorCorte" >
 
        <div class="mat-elevation-z8">

              <table mat-table [dataSource]="dataSourceFactorCorte">
            
  

                <ng-container matColumnDef="IdFactorCorte">
                    <th mat-header-cell *matHeaderCellDef> No. </th>
                    <td mat-cell *matCellDef="let element; let j = index"> {{j+1}} </td>
                </ng-container>

                <ng-container matColumnDef="Guardar">

                    <th mat-header-cell  *matHeaderCellDef>
                    </th>
                    <td mat-cell  *matCellDef="let element" > 
                        <a href="#" (click)="GuardarFactor(element)"><fa-icon [icon]="['fas', 'save']" class="fa-2x" style="color:#1B364C"></fa-icon></a>
                    </td>
                </ng-container>

              
                <ng-container matColumnDef="Curva">
                    <th mat-header-cell *matHeaderCellDef>
                        Curva.
                    </th>
                    <td mat-cell *matCellDef="let element"> 
                        <mat-form-field floatLabel="never">
                            <input  matInput placeholder="" [value]="element.Curva" [(ngModel)]="element.Curva">
                        </mat-form-field>
                    </td>
                </ng-container>

       
                <ng-container matColumnDef="Linearecta">
                    <th mat-header-cell *matHeaderCellDef>
                        LÃ­nearecta.
                    </th>
                    <td mat-cell *matCellDef="let element"> 
                        <mat-form-field floatLabel="never">
                            <input  matInput placeholder="" [value]="element.Linearecta" [(ngModel)]="element.Linearecta">
                        </mat-form-field>
                    </td>
                </ng-container>


                <ng-container matColumnDef="Esquinas">
                    <th mat-header-cell *matHeaderCellDef>
                        Esquinas.
                    </th>
                    <td mat-cell *matCellDef="let element"> 
                        <mat-form-field floatLabel="never">
                            <input  matInput placeholder="" [value]="element.Esquinas" [(ngModel)]="element.Esquinas">
                        </mat-form-field>
                    </td>
                </ng-container>


                <ng-container matColumnDef="Piquetes">
                    <th mat-header-cell *matHeaderCellDef>
                        Piquetes.
                    </th>
                    <td mat-cell *matCellDef="let element"> 
                        <mat-form-field floatLabel="never">
                            <input matInput placeholder="" [value]="element.Piquetes" [(ngModel)]="element.Piquetes">
                        </mat-form-field>
                    </td>
                </ng-container>


                <ng-container matColumnDef="HacerOrificio">
                    <th mat-header-cell *matHeaderCellDef>
                        HacerOrificio.
                    </th>
                    <td mat-cell *matCellDef="let element"> 
                        <mat-form-field floatLabel="never" class="col-factor-tendido">
                            <input matInput placeholder="" [value]="element.HacerOrificio" [(ngModel)]="element.HacerOrificio">
                        </mat-form-field>
                    </td>
                </ng-container>


                <ng-container matColumnDef="PonerTape">
                    <th mat-header-cell *matHeaderCellDef>
                        PonerTape.
                    </th>
                    <td mat-cell *matCellDef="let element"> 
                        <mat-form-field floatLabel="never" class="col-factor-tendido">
                            <input matInput placeholder="" [value]="element.PonerTape" [(ngModel)]="element.PonerTape">
                        </mat-form-field>
                    </td>
                </ng-container>



            
              <tr mat-header-row *matHeaderRowDef="displayedColumnsFactor"></tr>
              <tr
              mat-row  [class.demo-row-is-clicked]="clickedRowsFactor.has(row)" *matRowDef="let row; columns: displayedColumnsFactor;"></tr>
              
            </table>
        </div>
    
            
    
       
    </div>

    <div class="Lista-Registro" id="divRegistrosDetalleFactorCorte" >
     
        <br>
    

        <div class="container">
            <div class="row">

                <div class="col-sm-12 col-md-4 col-md-6">
                  <mat-form-field>
                    <mat-label>BUSCAR</mat-label>
                    <input matInput (keyup)="filtrar($event)" placeholder="buscar">
                  </mat-form-field>
                </div>
                
    
                <div class="col-sm-12 col-md-4 col-md-6">
                  <div class="button-row text-end">
                    <button type="button" class="btn btn-outline-secondary" (click)="AgregarFila()"><b>AGREGAR </b> <fa-icon [icon]="['fas', 'plus']" class="fa-2x"></fa-icon></button>
                  </div>
                </div>
    
    
              </div>
        </div>
         
      
       
        <div class="mat-elevation-z8" Id="tabla-factor-corte-detalle">


              <table mat-table [dataSource]="dataSourceDetalleFactorCorte" matSort (matSortChange)="announceSortChangeDetalle($event)">
            

                <!--<ng-container matColumnDef="IdFactorDetalleCorte" sticky>
                    <th mat-header-cell *matHeaderCellDef> No. </th>
                    <td mat-cell *matCellDef="let element; let j = index"  [ngClass]="element.IdFactorDetalleCorte == -1 ? 'nueva-fila' : ''"> {{j+1}} </td>
                </ng-container>-->

               
                <ng-container matColumnDef="Guardar" sticky>

                    <th mat-header-cell  *matHeaderCellDef>
                    </th>
                    <td mat-cell  *matCellDef="let element" [ngClass]="element.IdFactorDetalleCorte == -1 ? 'nueva-fila' : ''"> 
                        <a href="#" (click)="clickRow(element, 'Guardar')"><fa-icon [icon]="['fas', 'save']" class="fa-2x" style="color:#1B364C"></fa-icon></a>
                    </td>
                </ng-container>



                <ng-container matColumnDef="Item" sticky>
                    <th class="myHeader"  mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Item">
                        Items.
                    </th>
                    <td mat-cell *matCellDef="let element" [ngClass]="element.IdFactorDetalleCorte == -1 ? 'nueva-fila' : ''"> 
                        <mat-form-field floatLabel="never" class="col-factor-corte-num">
                            <input  matInput placeholder="" [value]="element.Item" [(ngModel)]="element.Item">
                        </mat-form-field>
                    </td>
                </ng-container>

                <ng-container matColumnDef="Componente" sticky>
                    <th class="myHeader"  mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Componente">
                        Componente.
                    </th>
                    <td mat-cell *matCellDef="let element" [ngClass]="element.IdFactorDetalleCorte == -1 ? 'nueva-fila' : ''"> 
                        <mat-form-field floatLabel="never" class="col-factor-tendido">
                            <input  matInput placeholder="" [value]="element.Componente" [(ngModel)]="element.Componente">
                        </mat-form-field>
                    </td>
                </ng-container>

       

                <ng-container matColumnDef="Estilo" sticky>
                    <th class="myHeader"  mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Estilo">
                        Estilo.
                    </th>
                    <td mat-cell *matCellDef="let element" [ngClass]="element.IdFactorDetalleCorte == -1 ? 'nueva-fila' : ''"> 
                        <mat-form-field floatLabel="never" >
                            <input  matInput placeholder="" [value]="element.Estilo" [(ngModel)]="element.Estilo">
                        </mat-form-field>
                    </td>
                </ng-container>


                <ng-container matColumnDef="LayLimits" sticky>
                    <th class="myHeader"  mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by LayLimits">
                        LayLimits.
                    </th>
                    <td mat-cell *matCellDef="let element" [ngClass]="element.IdFactorDetalleCorte == -1 ? 'nueva-fila' : ''"> 
                        <mat-form-field floatLabel="never" >
                            <input matInput placeholder="" [value]="element.LayLimits" [(ngModel)]="element.LayLimits">
                        </mat-form-field>
                    </td>
                </ng-container>


                <ng-container matColumnDef="TotalPieces">
                    <th class="myHeader"  mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TotalPieces">
                        TotalPieces.
                    </th>
                    <td mat-cell *matCellDef="let element" [ngClass]="element.IdFactorDetalleCorte == -1 ? 'nueva-fila' : ''"> 
                        <mat-form-field floatLabel="never" class="col-factor-corte-num">
                            <input matInput placeholder="" [value]="element.LayLimits" [(ngModel)]="element.TotalPieces">
                        </mat-form-field>
                    </td>
                </ng-container>


                <ng-container matColumnDef="StraightPerimeter">
                    <th class="myHeader"  mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by StraightPerimeter">
                        Straight Perimeter.
                    </th>
                    <td mat-cell *matCellDef="let element" [ngClass]="element.IdFactorDetalleCorte == -1 ? 'nueva-fila' : ''"> 
                        <mat-form-field floatLabel="never" class="col-factor-decimal">
                            <input matInput placeholder="" [value]="element.StraightPerimeter" [(ngModel)]="element.StraightPerimeter">
                        </mat-form-field>
                    </td>
                </ng-container>


                <ng-container matColumnDef="CurvedPerimeter" >
                    <th class="myHeader"  mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by CurvedPerimeter">
                        Curved Perimeter.
                    </th>
                    <td mat-cell *matCellDef="let element" [ngClass]="element.IdFactorDetalleCorte == -1 ? 'nueva-fila' : ''"> 
                        <mat-form-field floatLabel="never" class="col-factor-decimal">
                            <input matInput placeholder="" [value]="element.CurvedPerimeter" [(ngModel)]="element.CurvedPerimeter">
                        </mat-form-field>
                    </td>
                </ng-container>

                <ng-container matColumnDef="TotalPerimeter">
                    <th class="myHeader"  mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TotalPerimeter">
                        Total Perimeter.
                    </th>
                    <td mat-cell *matCellDef="let element" [ngClass]="element.IdFactorDetalleCorte == -1 ? 'nueva-fila' : ''"> 
                        <mat-form-field floatLabel="never" class="col-factor-decimal">
                            <input matInput placeholder="" [value]="element.TotalPerimeter" [(ngModel)]="element.TotalPerimeter">
                        </mat-form-field>
                    </td>
                </ng-container>


                <ng-container matColumnDef="TotalNotches">
                    <th class="myHeader"  mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TotalNotches">
                        Total Notches.
                    </th>
                    <td mat-cell *matCellDef="let element" [ngClass]="element.IdFactorDetalleCorte == -1 ? 'nueva-fila' : ''"> 
                        <mat-form-field floatLabel="never" class="col-factor-corte-num">
                            <input matInput placeholder="" [value]="element.TotalNotches" [(ngModel)]="element.TotalNotches">
                        </mat-form-field>
                    </td>
                </ng-container>

                <ng-container matColumnDef="TotalCorners">
                    <th class="myHeader"  mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by TotalCorners">
                        Total Corners.
                    </th>
                    <td mat-cell *matCellDef="let element" [ngClass]="element.IdFactorDetalleCorte == -1 ? 'nueva-fila' : ''"> 
                        <mat-form-field floatLabel="never" class="col-factor-decimal">
                            <input matInput placeholder="" [value]="element.TotalCorners" [(ngModel)]="element.TotalCorners">
                        </mat-form-field>
                    </td>
                </ng-container>

     

                <ng-container matColumnDef="Segundos">
                    <th class="myHeader"  mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Segundos">
                        Segundos.
                    </th>
                    <td mat-cell *matCellDef="let element" [ngClass]="element.IdFactorDetalleCorte == -1 ? 'nueva-fila' : ''"> 
                        {{element.Segundos}} 
                    </td>
                </ng-container>


      

             

                <ng-container matColumnDef="Eliminar" stickyEnd>
                    
                    <th mat-header-cell  *matHeaderCellDef>
                    </th>
                    <td mat-cell  *matCellDef="let element" [ngClass]="element.IdFactorDetalleCorte == -1 ? 'nueva-fila' : ''"> 
                        <a href="#" (click)="clickRow(element, 'Eliminar')" *ngIf="element.IdFactorDetalleCorte != -1"><fa-icon [icon]="['fas', 'trash-alt']" class="fa-2x" style="color:red"></fa-icon></a>
                    </td>
                </ng-container>

            
              <tr mat-header-row *matHeaderRowDef="displayedColumnsDetalle; sticky: true" ></tr>
              <tr
              mat-row  [class.demo-row-is-clicked]="clickedRowsDetalle.has(row)" *matRowDef="let row; columns: displayedColumnsDetalle;"></tr>
              
            </table>
            <mat-paginator [pageSizeOptions]="[50]"  showFirstLastButtons></mat-paginator>
        </div>
    
            
    
       
    </div>
</ng-container>


